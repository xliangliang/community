<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.liangliang.community.mapper.AdminMapper">
    <resultMap id="BaseResultMap" type="com.liangliang.community.entity.User">
        <!--<result column="id" jdbcType="INTEGER" property="id"/>
        <result column="account_id" jdbcType="VARCHAR" property="accountId"/>
        <result column="name" jdbcType="VARCHAR" property="name"/>
        <result column="token" jdbcType="CHAR" property="token"/>
        <result column="gmt_create" jdbcType="BIGINT" property="gmtCreate"/>
        <result column="gmt_modified" jdbcType="BIGINT" property="gmtModified"/>-->
    </resultMap>

    <insert id="register" useGeneratedKeys="true" keyProperty="id">
        insert into c_user (name, pwd_hash, create_time, token) values (#{registerParam.username}, #{registerParam.password}, #{registerParam.createTime}, #{registerParam.token});
    </insert>

    <select id="login" resultType="String">
        select token from c_user where name = #{loginParam.username} and pwd_hash = #{loginParam.password};
    </select>

    <select id="select" resultType="com.liangliang.community.entity.User">
        select * from c_user where name = #{username};
    </select>
</mapper>